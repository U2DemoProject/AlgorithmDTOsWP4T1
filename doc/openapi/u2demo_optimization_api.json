{"openapi":"3.1.0","info":{"title":"U2Demo Optimization Engine API","version":"0.1.0"},"paths":{"/centralized_dispatch_cems":{"post":{"summary":"Run Dispatch Cems","operationId":"run_dispatch_cems_centralized_dispatch_cems_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DispatchInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DispatchOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/centralized_dispatch_benefit_allocation":{"post":{"summary":"Run Dispatch Benefit Allocation","operationId":"run_dispatch_benefit_allocation_centralized_dispatch_benefit_allocation_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CentralizedDispatchCollectiveBenefitAllocationInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CentralizedDispatchCollectiveBenefitAllocationOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/market_clearing":{"post":{"summary":"Run Market Clearing","operationId":"run_market_clearing_market_clearing_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketClearingInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketClearingOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/pricing_model":{"post":{"summary":"Run Pricing Model","operationId":"run_pricing_model_pricing_model_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingModelInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PricingModelOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/individual_portfolio_optimisation":{"post":{"summary":"Run Individual Portfolio Optimisation","operationId":"run_individual_portfolio_optimisation_individual_portfolio_optimisation_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionIndividualOptimisationInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionIndividualOptimisationOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Asset":{"properties":{"id":{"type":"string","title":"Id"},"meter":{"$ref":"#/components/schemas/Meter-Input"},"p_min_w":{"type":"number","title":"P Min W"},"p_max_w":{"type":"number","title":"P Max W"},"context":{"additionalProperties":true,"type":"object","title":"Context"}},"type":"object","required":["id","meter","p_min_w","p_max_w"],"title":"Asset"},"AssetSchedule":{"properties":{"schedule":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Schedule"},"asset_id":{"type":"string","title":"Asset Id"},"direction":{"$ref":"#/components/schemas/Direction"}},"type":"object","required":["schedule","asset_id","direction"],"title":"AssetSchedule"},"BehaviouralConstraint":{"type":"string","enum":["hard constraint","soft constraint","no constraint"],"title":"BehaviouralConstraint"},"BehaviouralWeight":{"properties":{"id":{"$ref":"#/components/schemas/CommunityMember-Input"},"sharing_coefficient":{"type":"number","title":"Sharing Coefficient"}},"type":"object","required":["id","sharing_coefficient"],"title":"BehaviouralWeight"},"BenefitAllocation":{"properties":{"id":{"$ref":"#/components/schemas/CommunityMember-Output"},"sharing_coefficient_result":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Sharing Coefficient Result"}},"type":"object","required":["id","sharing_coefficient_result"],"title":"BenefitAllocation"},"BillingReprocessing":{"properties":{"contract_id":{"type":"string","title":"Contract Id"},"payback_amount":{"type":"number","title":"Payback Amount"},"supplier_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["contract_id","payback_amount","supplier_id","notes"],"title":"BillingReprocessing"},"CentralizedDispatchCollectiveBenefitAllocationInput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"asset":{"items":{"$ref":"#/components/schemas/Asset"},"type":"array","title":"Asset"},"asset_dispatches":{"items":{"$ref":"#/components/schemas/AssetSchedule"},"type":"array","title":"Asset Dispatches"},"grid_offtake":{"items":{"$ref":"#/components/schemas/Schedule"},"type":"array","title":"Grid Offtake"},"grid_injection":{"items":{"$ref":"#/components/schemas/Schedule"},"type":"array","title":"Grid Injection"},"members":{"items":{"$ref":"#/components/schemas/CommunityMember-Input"},"type":"array","title":"Members"},"member_preferences":{"items":{"$ref":"#/components/schemas/BehaviouralWeight"},"type":"array","title":"Member Preferences"},"behavioural_constraint":{"$ref":"#/components/schemas/BehaviouralConstraint"}},"type":"object","required":["instance_id","asset","asset_dispatches","grid_offtake","grid_injection","members","member_preferences","behavioural_constraint"],"title":"CentralizedDispatchCollectiveBenefitAllocationInput"},"CentralizedDispatchCollectiveBenefitAllocationOutput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"community_total_benefit":{"type":"number","title":"Community Total Benefit"},"benefit_allocations":{"items":{"$ref":"#/components/schemas/BenefitAllocation"},"type":"array","title":"Benefit Allocations"}},"type":"object","required":["instance_id","community_total_benefit","benefit_allocations"],"title":"CentralizedDispatchCollectiveBenefitAllocationOutput"},"ClearedDemandOrder":{"properties":{"member_id":{"$ref":"#/components/schemas/CommunityMember-Output"},"cleared_demand":{"items":{"$ref":"#/components/schemas/TimeStepClearedOrder"},"type":"array","title":"Cleared Demand"}},"type":"object","required":["member_id","cleared_demand"],"title":"ClearedDemandOrder"},"ClearedMarketParameters":{"properties":{"market_clearing_price":{"type":"number","title":"Market Clearing Price"},"social_welfare":{"type":"number","title":"Social Welfare"},"procurement_cost":{"type":"number","title":"Procurement Cost"}},"type":"object","required":["market_clearing_price","social_welfare","procurement_cost"],"title":"ClearedMarketParameters"},"ClearedOfferOrder":{"properties":{"member_id":{"$ref":"#/components/schemas/CommunityMember-Output"},"cleared_offers":{"items":{"$ref":"#/components/schemas/TimeStepClearedOrder"},"type":"array","title":"Cleared Offers"}},"type":"object","required":["member_id","cleared_offers"],"title":"ClearedOfferOrder"},"ClearedOrderStep":{"properties":{"cleared_volume":{"type":"number","title":"Cleared Volume"},"cleared_price":{"type":"number","title":"Cleared Price"}},"type":"object","required":["cleared_volume","cleared_price"],"title":"ClearedOrderStep"},"CommunityContract":{"properties":{"supply_prices":{"$ref":"#/components/schemas/Prices"},"resale_prices":{"$ref":"#/components/schemas/Prices"},"max_supply_community":{"$ref":"#/components/schemas/Schedule"},"max_offtake_community":{"$ref":"#/components/schemas/Schedule"}},"type":"object","required":["supply_prices","resale_prices","max_supply_community","max_offtake_community"],"title":"CommunityContract"},"CommunityMember-Input":{"properties":{"id":{"type":"string","title":"Id"},"meters":{"items":{"$ref":"#/components/schemas/Meter-Input"},"type":"array","title":"Meters"}},"type":"object","required":["id","meters"],"title":"CommunityMember"},"CommunityMember-Output":{"properties":{"id":{"type":"string","title":"Id"},"meters":{"items":{"$ref":"#/components/schemas/Meter-Output"},"type":"array","title":"Meters"}},"type":"object","required":["id","meters"],"title":"CommunityMember"},"Contract-Input":{"properties":{"id":{"type":"string","title":"Id"},"supplier":{"$ref":"#/components/schemas/Supplier-Input"},"linked_distribution_point":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linked Distribution Point"}},"type":"object","required":["id","supplier"],"title":"Contract"},"Contract-Output":{"properties":{"id":{"type":"string","title":"Id"},"supplier":{"$ref":"#/components/schemas/Supplier-Output"},"linked_distribution_point":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linked Distribution Point"}},"type":"object","required":["id","supplier"],"title":"Contract"},"ContractCategory":{"type":"string","enum":["fixed","peak_off_peak"],"title":"ContractCategory"},"DecisionIndividualOptimisationInput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"household":{"$ref":"#/components/schemas/Household"},"community_contract":{"$ref":"#/components/schemas/CommunityContract"},"objectives":{"items":{"$ref":"#/components/schemas/Objective"},"type":"array","title":"Objectives"}},"type":"object","required":["instance_id","household","community_contract","objectives"],"title":"DecisionIndividualOptimisationInput"},"DecisionIndividualOptimisationOutput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"dispatches":{"items":{"$ref":"#/components/schemas/AssetSchedule"},"type":"array","title":"Dispatches"},"external_interactions":{"$ref":"#/components/schemas/ExternalInteractions"}},"type":"object","required":["instance_id","dispatches","external_interactions"],"title":"DecisionIndividualOptimisationOutput"},"DemandOrder":{"properties":{"member_id":{"$ref":"#/components/schemas/CommunityMember-Input"},"demand_curve":{"items":{"$ref":"#/components/schemas/TimeStepOrder"},"type":"array","title":"Demand Curve"}},"type":"object","required":["member_id","demand_curve"],"title":"DemandOrder"},"Direction":{"type":"string","enum":["production","consumption"],"title":"Direction"},"DispatchInput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"time_units":{"$ref":"#/components/schemas/TimeParameters"},"households":{"items":{"$ref":"#/components/schemas/Household"},"type":"array","title":"Households"},"members":{"items":{"$ref":"#/components/schemas/CommunityMember-Input"},"type":"array","title":"Members"},"objective":{"items":{"$ref":"#/components/schemas/Objective"},"type":"array","title":"Objective"},"community_manager":{"$ref":"#/components/schemas/EnergyCommunityManager"},"schedules":{"items":{"$ref":"#/components/schemas/AssetSchedule"},"type":"array","title":"Schedules"}},"type":"object","required":["instance_id","time_units","households","members","objective","community_manager","schedules"],"title":"DispatchInput"},"DispatchOutput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"asset_dispatches":{"items":{"$ref":"#/components/schemas/AssetSchedule"},"type":"array","title":"Asset Dispatches"},"grid_offtake":{"items":{"$ref":"#/components/schemas/Schedule"},"type":"array","title":"Grid Offtake"},"grid_injection":{"items":{"$ref":"#/components/schemas/Schedule"},"type":"array","title":"Grid Injection"}},"type":"object","required":["instance_id","asset_dispatches","grid_offtake","grid_injection"],"title":"DispatchOutput"},"EnergyCommunityManager":{"properties":{"id":{"type":"string","title":"Id"},"contract":{"$ref":"#/components/schemas/Contract-Input"}},"type":"object","required":["id","contract"],"title":"EnergyCommunityManager"},"ExternalInteractions":{"properties":{"grid_offtake_volume":{"$ref":"#/components/schemas/Schedule"},"grid_injection_volume":{"$ref":"#/components/schemas/Schedule"},"community_offtake_volume":{"$ref":"#/components/schemas/Schedule"},"community_injection_volume":{"$ref":"#/components/schemas/Schedule"}},"type":"object","required":["grid_offtake_volume","grid_injection_volume","community_offtake_volume","community_injection_volume"],"title":"ExternalInteractions"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Household":{"properties":{"community_members":{"items":{"$ref":"#/components/schemas/CommunityMember-Input"},"type":"array","title":"Community Members"},"assets":{"items":{"$ref":"#/components/schemas/Asset"},"type":"array","title":"Assets"}},"type":"object","required":["community_members","assets"],"title":"Household"},"MarketClearingInput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"objective":{"$ref":"#/components/schemas/MarketClearingObjective"},"contracts":{"items":{"$ref":"#/components/schemas/Contract-Input"},"type":"array","title":"Contracts"},"offer_orders":{"items":{"$ref":"#/components/schemas/OfferOrder"},"type":"array","title":"Offer Orders"},"demand_orders":{"items":{"$ref":"#/components/schemas/DemandOrder"},"type":"array","title":"Demand Orders"}},"type":"object","required":["instance_id","objective","contracts","offer_orders","demand_orders"],"title":"MarketClearingInput"},"MarketClearingObjective":{"properties":{"objectives":{"items":{"$ref":"#/components/schemas/ObjectiveValue"},"type":"array","title":"Objectives"}},"type":"object","required":["objectives"],"title":"MarketClearingObjective"},"MarketClearingOutput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"cleared_offers":{"items":{"$ref":"#/components/schemas/ClearedOfferOrder"},"type":"array","title":"Cleared Offers"},"cleared_demands":{"items":{"$ref":"#/components/schemas/ClearedDemandOrder"},"type":"array","title":"Cleared Demands"},"market_parameters":{"$ref":"#/components/schemas/ClearedMarketParameters"}},"type":"object","required":["instance_id","cleared_offers","cleared_demands","market_parameters"],"title":"MarketClearingOutput"},"Meter-Input":{"properties":{"id":{"type":"string","title":"Id"},"contract_id":{"type":"string","title":"Contract Id"},"power_kw":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Power Kw"},"contract":{"$ref":"#/components/schemas/Contract-Input"}},"type":"object","required":["id","contract_id","power_kw","contract"],"title":"Meter"},"Meter-Output":{"properties":{"id":{"type":"string","title":"Id"},"contract_id":{"type":"string","title":"Contract Id"},"power_kw":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Power Kw"},"contract":{"$ref":"#/components/schemas/Contract-Output"}},"type":"object","required":["id","contract_id","power_kw","contract"],"title":"Meter"},"Objective":{"properties":{"name":{"$ref":"#/components/schemas/ObjectiveName"},"weight":{"type":"number","title":"Weight"}},"type":"object","required":["name","weight"],"title":"Objective"},"ObjectiveName":{"type":"string","enum":["social_welfare_maximisation","cost_minimisation","grid_supply_minimisation","renewable_supply_maximisation"],"title":"ObjectiveName"},"ObjectiveValue":{"properties":{"objective":{"$ref":"#/components/schemas/Objective"},"weight":{"type":"number","title":"Weight"}},"type":"object","required":["objective","weight"],"title":"ObjectiveValue"},"OfferOrder":{"properties":{"member_id":{"$ref":"#/components/schemas/CommunityMember-Input"},"offer_curve":{"items":{"$ref":"#/components/schemas/TimeStepOrder"},"type":"array","title":"Offer Curve"}},"type":"object","required":["member_id","offer_curve"],"title":"OfferOrder"},"OrderStep":{"properties":{"volume_max":{"type":"integer","title":"Volume Max"},"volume_min":{"type":"integer","title":"Volume Min"},"price":{"type":"integer","title":"Price"}},"type":"object","required":["volume_max","volume_min","price"],"title":"OrderStep"},"Prices":{"properties":{"prices":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Prices"}},"type":"object","required":["prices"],"title":"Prices"},"PricingModelInput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"time":{"$ref":"#/components/schemas/TimeParameters"},"pricing_rule":{"$ref":"#/components/schemas/PricingRule"},"loads":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Loads"},"productions":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Productions"},"prices":{"items":{"$ref":"#/components/schemas/RetailPrice"},"type":"array","title":"Prices"}},"type":"object","required":["instance_id","time","pricing_rule","loads","productions","prices"],"title":"PricingModelInput"},"PricingModelOutput":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"internal_prices":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Internal Prices"},"billing":{"items":{"$ref":"#/components/schemas/BillingReprocessing"},"type":"array","title":"Billing"}},"type":"object","required":["instance_id","internal_prices","billing"],"title":"PricingModelOutput"},"PricingRule":{"type":"string","enum":["Mid-market rate","Supply-demand ratio"],"title":"PricingRule"},"RetailPrice":{"properties":{"injection_price":{"$ref":"#/components/schemas/TimeValue"},"offtake_price":{"$ref":"#/components/schemas/TimeValue"}},"type":"object","required":["injection_price","offtake_price"],"title":"RetailPrice"},"Schedule":{"properties":{"schedule":{"items":{"$ref":"#/components/schemas/TimeValue"},"type":"array","title":"Schedule"}},"type":"object","required":["schedule"],"title":"Schedule"},"Supplier-Input":{"properties":{"category":{"$ref":"#/components/schemas/ContractCategory"},"supply_prices":{"$ref":"#/components/schemas/Prices"},"resale_prices":{"$ref":"#/components/schemas/Prices"},"capacity_tariffs":{"$ref":"#/components/schemas/Prices"},"max_power_consumed_kw":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Power Consumed Kw"},"max_power_injected_kw":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Power Injected Kw"}},"type":"object","required":["category","supply_prices","resale_prices","capacity_tariffs"],"title":"Supplier"},"Supplier-Output":{"properties":{"category":{"$ref":"#/components/schemas/ContractCategory"},"supply_prices":{"$ref":"#/components/schemas/Prices"},"resale_prices":{"$ref":"#/components/schemas/Prices"},"capacity_tariffs":{"$ref":"#/components/schemas/Prices"},"max_power_consumed_kw":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Power Consumed Kw"},"max_power_injected_kw":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Power Injected Kw"}},"type":"object","required":["category","supply_prices","resale_prices","capacity_tariffs"],"title":"Supplier"},"TimeParameters":{"properties":{"timestep_minutes":{"type":"integer","title":"Timestep Minutes"},"horizon_hours":{"type":"integer","title":"Horizon Hours"},"scheduling_time":{"type":"string","format":"date-time","title":"Scheduling Time"}},"type":"object","required":["timestep_minutes","horizon_hours","scheduling_time"],"title":"TimeParameters"},"TimeStepClearedOrder":{"properties":{"order_id":{"type":"string","title":"Order Id"},"linked_order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linked Order Id"},"timestep":{"type":"string","format":"date-time","title":"Timestep"},"price_volume_curve":{"items":{"$ref":"#/components/schemas/OrderStep"},"type":"array","title":"Price Volume Curve"},"cleared_order":{"$ref":"#/components/schemas/ClearedOrderStep"}},"type":"object","required":["order_id","timestep","price_volume_curve","cleared_order"],"title":"TimeStepClearedOrder"},"TimeStepOrder":{"properties":{"order_id":{"type":"string","title":"Order Id"},"linked_order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linked Order Id"},"timestep":{"type":"string","format":"date-time","title":"Timestep"},"price_volume_curve":{"items":{"$ref":"#/components/schemas/OrderStep"},"type":"array","title":"Price Volume Curve"}},"type":"object","required":["order_id","timestep","price_volume_curve"],"title":"TimeStepOrder"},"TimeValue":{"properties":{"time":{"type":"string","format":"date-time","title":"Time"},"value":{"type":"number","title":"Value"}},"type":"object","required":["time","value"],"title":"TimeValue"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}